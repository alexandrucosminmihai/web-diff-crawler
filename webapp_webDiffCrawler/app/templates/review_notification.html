{% extends "base.html" %}

{% block title %}
    Notif {{ notification['id_notifications'] }} - {{ notification['address'] }}
{% endblock %}

{% block page_content %}

<div class="row">
    <h1 class="col-lg-11">
        Review notification id {{ notification['id_notifications'] }}
    </h1>

    <div class="col-lg-1">
        <br>
        <form action="{{url_for('.ackANotification')}}" method="POST">
            <input id="ackNotification" name="ackNotificationId" type="hidden"
                   value="{{notification['id_notifications']}}">
            <button class="btn btn-success" type="submit">Acknowledge</button>
        </form>
    </div>
</div>

<div class="row">
    <div class="col-lg-8">
        <table class="table">
          <tbody>
            <tr>
                <th scope="row">Address</th>
                <td><a href="{{ notification['address'] }}">{{ notification['address'] }}</a></td>
            </tr>
            <tr>
                <th scope="row">Crawling rule</th>
                <td>{{ notification['matchingrule'] }}</td>
            </tr>
            <tr>
                <th scope="row">New content time</th>
                <td>{{ notification['modifytimestr'] }}</td>
            </tr>
            <tr>
                <th scope="row">Old content time</th>
                <td>{{ notification['oldcontenttimestr'] }}</td>
            </tr>
          </tbody>
        </table>
    </div>
</div>

<!--
<div class="row">
    <p>
        {{ notification['changes'] }}
    </p>
</div>
-->
<!-- The container with the two smaller containers -->
<div class="container-fluid">

    <div class="row"> <!-- Comparation row -->

        <div class="col-lg-6"> <!-- Div container New Content -->
            <div class="row">
                <h3><u>New content</u>:</h3>
            </div>

            <div class="row">
                {% if notification["currdocslinks"] %}
                    <h4>Documents download links:</h4>
                    <ul>
                        {% for documentAnchor in notification["currdocslinks"] %}
                            <li>
                                {{ documentAnchor | safe }}
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <h4>No documents download links</h4>
                {% endif %}
            </div>

            <div class="row">
                <div class="col-lg-12 col-centered multiline" id="new-content">
                    {{ notification["currcontent"] | string | safe }}
                </div>
            </div>
        </div>

        <div class="col-lg-6"> <!-- Div container Old Content -->
            <div class="row">
                <h3><u>Old content</u>:</h3>
            </div>

            <div class="row">
                {% if notification["olddocslinks"] %}
                    <h4>Old documents download links:</h4>
                    <ul>
                        {% for documentAnchor in notification["olddocslinks"] %}
                            <li>
                                {{ documentAnchor | safe }}
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <h4>No old documents download links</h4>
                {% endif %}
            </div>

            <div class="row">
                <div class="col-lg-12 col-centered multiline" id="old-content">
                    {{ notification["oldcontent"] | string | safe }}
                </div>
            </div>
        </div>

    </div> <!-- Comparation row -->

</div>



{% endblock %}
